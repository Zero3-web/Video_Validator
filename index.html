<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Validador de Videos</title>
    <link rel="stylesheet" href="Css/styles.css">
    <link rel="stylesheet" href="Css/mobile.css" media="only screen and (max-width: 600px)">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <div id="ayuda-modal" class="modal-ayuda">
        <div class="modal-ayuda-contenido">
            <h2>¿Cómo funciona?</h2>
            <ul>
                <li>Mira el video al menos 15 segundos sin adelantar ni retroceder.</li>
                <li>El timer circular muestra tu progreso y cambia de color.</li>
                <li>Al completar el tiempo, recibirás un vale de felicitación.</li>
            </ul>
            <button onclick="cerrarAyuda()">¡Entendido!</button>
        </div>
    </div>
    <h1>Validador de Videos</h1>
    <div id="video-container">
        <div id="player"></div>
    </div>
    <div id="timer-container" style="width:90px;margin:20px auto;">
        <svg id="timer-svg" width="80" height="80" viewBox="0 0 100 100">
            <circle cx="50" cy="50" r="45" stroke="#eee" stroke-width="10" fill="none"/>
            <circle id="timer-progress" cx="50" cy="50" r="45" stroke="#2196f3" stroke-width="10" fill="none"
                stroke-linecap="round" stroke-dasharray="282.743" stroke-dashoffset="0" />
        </svg>
    </div>
    <div id="contador-container">
        Debes ver al menos <span id="tiempo-restante">15</span> segundos del video.
    </div>
    <div id="mensaje"></div>
    <!-- Modal de Vale de Felicitación -->
    <div id="vale-modal" class="modal-ayuda">
        <div class="modal-ayuda-contenido" style="max-width:420px;text-align:center;position:relative;">
            <button id="vale-cerrar-x" onclick="cerrarVale()" style="position:absolute;top:10px;right:10px;background:transparent;border:none;font-size:1.6em;line-height:1;color:#888;cursor:pointer;z-index:10;">&times;</button>
            <h2>¡Felicitaciones!</h2>
            <div id="vale-contenido" style="background:#f9f9f9;border-radius:10px;padding:18px 10px;box-shadow:0 2px 12px rgba(0,0,0,0.07);margin-bottom:10px;position:relative;">
                <div style="position:absolute;top:10px;right:10px;opacity:0.15;">
                    <!-- Marca de agua: reemplaza src por tu imagen -->
                    <img id="marca-agua" src="marcadeagua.png" alt="Marca de agua" style="width:80px;"/>
                </div>
                <div style="font-size:1.1em;margin-bottom:8px;">Vale generado el <span id="vale-fecha"></span></div>
                <div style="font-size:1.3em;font-weight:bold;margin-bottom:8px;">Código: <span id="vale-codigo"></span></div>
                <svg id="vale-barcode"></svg>
            </div>
            <button id="btn-reclamar" onclick="reclamarVale()">Reclamar vale</button>
        </div>
    </div>
    <!-- Opcional: advertencia -->
    <!-- <div style="color:#888;font-size:0.9em;text-align:center;">Protección activa: No intentes manipular la página.</div> -->
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="Js/script.js"></script>
</body>
</html>
